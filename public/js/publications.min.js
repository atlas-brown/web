function toggleDropdown(e){document.getElementById(e).classList.toggle("hidden")}function toggleBlock(e){document.getElementById(e).classList.toggle("hidden")}document.addEventListener("DOMContentLoaded",()=>{function n(e){document.querySelectorAll(e).forEach(e=>{const n=e.querySelector(".pill-x");e.addEventListener("click",()=>{const s=e.classList.contains("selected");s?(e.classList.remove("selected"),n&&n.classList.add("hidden")):(e.classList.add("selected"),n&&n.classList.remove("hidden")),t()})})}n(".publications-container .pill");const e=document.getElementById("pubSearch");e&&e.addEventListener("input",t);function t(){const t=Array.from(document.querySelectorAll(".filter-type.selected")).map(e=>e.dataset.value),n=Array.from(document.querySelectorAll(".filter-category.selected")).map(e=>e.dataset.value),s=e?e.value.trim().toLowerCase():"";document.querySelectorAll(".year-block").forEach(e=>{const i=e.querySelectorAll(".pub");let o=0;i.forEach(e=>{const a=e.dataset.type.toLowerCase().trim(),r=e.dataset.category.toLowerCase().trim(),c=e.textContent.toLowerCase(),l=t.length===0||t.includes(a),d=n.length===0||n.includes(r),u=s===""||c.includes(s),i=l&&d&&u;e.style.display=i?"":"none",i&&o++}),e.style.display=o>0?"":"none"})}})